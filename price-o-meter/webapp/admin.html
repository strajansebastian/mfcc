<html ng-app="PriceOMeterApp">
<head>
	<meta charset="utf-8" />
	<title>Price-O-Meter web application - modify product locations</title>

        <script>document.write('<base href="' + document.location + '" />');</script>

	<link rel="stylesheet" href="/css/bootstrap.min.css">
	<link rel="stylesheet" href="/css/bootstrap-theme.min.css">
	<link rel="stylesheet" href="/css/angular-material.min.css">
        <link rel="stylesheet" href="/css/main.css">

</head>

<body ng-controller="PriceOMeterProductLocationController">

<nav class="navbar navbar-default">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>  <span class="icon-bar"></span> <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="#">Price-O-Meter</a>
    </div>
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav">
        <li><a href="index.html">Products</a></li>
        <li><a href="prices.html">Prices</a></li>
      </ul>
<!--
      <form class="navbar-form navbar-left">
        <div class="form-group">
          <input type="text" class="form-control" placeholder="Search">
        </div>
        <button type="submit" class="btn btn-default">Submit</button>
      </form>
-->
      <ul class="nav navbar-nav navbar-right">
        <li class="dropdown">
          <a href="admin.html" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Admin<span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="#">Add site for product</a></li>
            <li><a href="#">Update site for product</a></li>
            <li><a href="#">Remove site for product</a></li>
            <li role="separator" class="divider"></li>
            <li><a href="#">Separated link</a></li>
          </ul>
        </li>
      </ul>
    </div>
  </div>
</nav>

<div ng-cloak>
  <md-content class="md-padding">
    <md-nav-bar md-selected-nav-item="current_nav_item" nav-bar-aria-label="navigation links">
      <md-nav-item md-nav-click="goto('productLocationLST')" name="productLocationLST">List</md-nav-item>
      <md-nav-item md-nav-click="goto('productLocationADD')" name="productLocationADD">Add</md-nav-item>
      <md-nav-item md-nav-click="goto('productLocationDEL')" name="productLocationDEL">Delete</md-nav-item>
    </md-nav-bar>
    <div class="ext-content">
    <ng-if ng-if="current_nav_item == 'productLocationLST'"><h3>List Locations for Products</h3>
      <table class="table">
        <tr>
           <th ng-repeat="item in product_locations_columns">{{item}}</th>
        </tr>

        <tr ng-repeat="prod_loc in product_locations | orderBy:'name'" id="tr_id_{{prod_loc.id}}">
           <td>{{prod_loc.product_id}}</td>
           <td>{{prod_loc.id}}</td>
           <td>{{prod_loc.site_name}}</td>
           <td>{{prod_loc.site_url}}</td>
           <td><a href="{{prod_loc.site_name}}{{prod_loc.site_url}}">LINK</a></td>
           <td>{{prod_loc.date_added}}</td>
           <td>{{prod_loc.date_removed || 'Item not removed'}}</td>
        </tr>

      </table>
    </ng-if>

    <ng-if ng-if="current_nav_item == 'productLocationADD'"><h3>Add Product Location</h3> 
        <p>{{productLocationInsert.result || 'No rows have been added!'}}</p>
        <div class="form-group form-inline">
          <label for="productLocationAddProductID">Product ID:</label>
          <input ng-model="productLocationInsert.product_id" id="productLocationAddProductID" type="text" class="form-control" placeholder="insert product name...">
        </div>
        <div class="form-group form-inline">
          <label for="productLocationAddSiteName">Site Name:</label>
          <input ng-model="productLocationInsert.site_name" id="productLocationAddSiteName" type="text" class="form-control" placeholder="add site name...">
        </div>
        <div class="form-group form-inline">
          <label for="productLocationAddSiteURL">Site URL:</label>
          <input ng-model="productLocationInsert.site_url" id="productLocationAddSiteURL" type="text" class="form-control" placeholder="add site URL...">
        </div>
        <button type="submit" class="btn btn-success" ng-click="insertProductLocation(productLocationInsert.product_id, productLocationInsert.site_name, productLocationInsert.site_url)" >Add Product Location</button>
    </ng-if>

    <ng-if ng-if="current_nav_item == 'productLocationDEL'"><h3>Delete Product Location</h3>
        <p>{{productLocationDelete.result || 'No rows have been deleted!'}}</p>
        <div class="form-group form-inline">
          <label for="productLocationDeleteID">Product Location ID:</label>
          <input ng-model="productLocationDelete.id" type="number" class="form-control" id="productLocationDeleteID" placeholder="insert product location id...">
        </div>
        <button type="submit" class="btn btn-success" ng-click="deleteProductLocation(productLocationDelete.id)" >Delete Product Location</button>
    </ng-if>



    </div>

  </md-content>
</div>


<!--	<script src="/js/jquery-3.1.1.min.js"></script> -->

        <script src="/js/angular.js"></script>
        <script src="/js/angular-animate.js"></script>
        <script src="/js/angular-sanitize.js"></script>
        <script src="/js/angular-aria.min.js"></script>
        <script src="/js/angular-material.min.js"></script>
        <script src="/js/ui-bootstrap-tpls-2.1.3.js"></script> 
        
        <script src="/js/app_admin.js"></script>

</body>
</html>
